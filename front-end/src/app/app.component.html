<header>
  <h1>{{ 'app.title' | t }}</h1>
  <small class="muted">{{ 'app.disclaimer' | t }}</small>

  <div class="lang">
    <!-- <button (click)="setLang('bg')" [class.active]="lang==='bg'">BG</button> -->
    <button (click)="setLang('en')" [class.active]="lang==='en'">EN</button>
  </div>
</header>

<nav>
  <a routerLink="/">{{ 'sos.first_aid' | t }}</a>
  <a routerLink="/steps">{{ 'sos.earthquake' | t }}</a>
  <a routerLink="/settings">{{ 'commands.settings' | t }}</a>
</nav>
<router-outlet></router-outlet>


<main class="container">
  <h1>AI Safety Companion (Offline MVP)</h1>

  <section class="card">
    <h2>Text question</h2>
    <input  placeholder="Example: What can I do when burn">
    <button (click)="onAsk()">Ask</button>
    <pre *ngIf="answer">{{ answer }}</pre>
    <button *ngIf="answer" (click)="onSpeak()">ðŸ”Š Speak</button>
    <audio #player controls *ngIf="audioUrl" [src]="audioUrl"></audio>
  </section>
  <app-mic-record-btn />
  <app-tts-player />
  <section class="card">
    <h2>Voice input</h2>
    <input type="file" accept="audio/*" (change)="onFile($event)">
    <p *ngIf="sttText"><b>Transcribed:</b> {{ sttText }}</p>
  </section>
</main>
